<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>task21</title>
</head>
<body>
<script>
    // 1. 写一个函数trim(str)，去除字符串两边的空白字符
    function trim(str){
        var strArr = str.split(/^\s+/g)
        var toStr = strArr.join('')
        strArr = toStr.split(/\s+$/g)
        return strArr.join('')
    }
    trim('   1 2   3    ')

    function trim(str){
        var fixStr = str.replace(/^\s+|\s+$/g,'')
        return fixStr
    }
    trim(' asdf df    df 1   ')

    // 2. 使用实现 addClass(el, cls)、hasClass(el, cls)、removeClass(el,cls)，使用正则
    function hasClass(el,cls){
        var reg = new RegExp('(\\s|^)' + cls + '(\\b|$)', 'g')
        return reg.test(el.className)
    }

    function addClass(el,cls){
        if(!hasClass(el,cls)){
            return el.className += ' ' + cls
        }
        console.log('已有该类名')
    }

    function removeClass(el,cls){
        if(!!hasClass(el,cls)){
            return el.className.replace(cls,'')
        }
        console.log('没有该类名')
    }

    // 3. 写一个函数isEmail(str)，判断用户输入的是不是邮箱
    function isEmail(str){
        var reg = new RegExp('\\w+@\\w+\\.(com)$','g')
        if(reg.test(str)){
            return console.log('邮箱格式正确')
        }
        return console.log('邮箱格式有误')
    }
    isEmail('vipatlx@qq.com')
    isEmail('vipatlx@qq .com') 
    isEmail('vipatlx@.com')   
    
    // 4. 写一个函数isPhoneNum(str)，判断用户输入的是不是手机号
    function isPhoneNum(str){
        var reg = /^(86)?1[34578]\d{9}$/g 
        if(reg.test(str)){
            return console.log('手机号码格式正确')
        }
        return console.log('手机号码格式有误')
    }
    isPhoneNum('12334562452')
    isPhoneNum('123345f2452')
    isPhoneNum('123342452')

    // 5. 写一个函数isValidUsername(str)，判断用户输入的是不是合法的用户名（长度6- 20个字符，只能包括字母、数字、下划线）
    function isValidUsername(str){
        // var reg = /^[\d_a-zA-Z]{6,20}$/g
        var reg = /^\w{6,20}$/g//\w不匹配汉字，《正则表达式30分钟入门教程》有误
        if(reg.test(str)){
            return console.log('用户名格式正确')
        }
        return console.log('用户名格式有误') 
    }
    isValidUsername('a123456789')   
    isValidUsername('a12345678 9')   
    isValidUsername('a12345678我9')   
    isValidUsername('a12345678932423423423dsdfsdf')   

    // 6. 写一个函数isValidPassword(str), 判断用户输入的是不是合法密码（长度6-20个字符，包括大写字母、小写字母、数字、下划线至少两种）
    function isValidPassword(str){
        var basicStr = /^\w{6,20}$/g,
            W = /^[A-Z]{6,20}$/g
            w = /^[a-z]{6,20}$/g
            d = /^\d{6,20}$/g
            line = /^_{6,20}$/g
        if(basicStr.test(str)){
            if(W.test(str)|w.test(str)|d.test(str)|line.test(str)){
                return console.log('用户名格式有误') 
            }
            return console.log('用户名格式正确')
        }
        return console.log('用户名格式有误') 
    }
    isValidPassword('sdfsdfe')
    isValidPassword('aaaaaa')
    isValidPassword('dsfsd')
    isValidPassword('_dsfsd')


    // 7. 写一个正则表达式，得到如下字符串里所有的颜色（#121212）
    var re = /#[\da-fA-F]{6}/g
    var subj = "color: #121212; background-color: #AA00ef; width: 12px; bad-colors: f#fddee #fd2 "
    alert( subj.match(re) )  // #121212,#AA00ef

    // 8. 下面代码输出什么? 为什么? 改写代码，让其输出hunger, world.

    var str = 'hello  "hunger" , hello "world"';
    var pat =  /".*"/g;
    str.match(pat);  //[""hunger" , hello "world""],默认为贪婪匹配，尽可能的长的匹配字符

    var str = 'hello  "hunger" , hello "world"';
    var pat =  /".*?"/g;//?激活懒惰匹配，尽可能短的匹配
    str.match(pat);

    // 9. 补全如下正则表达式，输出字符串中的注释内容. (可尝试使用贪婪模式和非贪婪模式两种方法)

    // 懒惰模式

    str = '.. <!-- My -- comment \n test --> ..  <!----> .. '
    re = /<!--[\w\W]*?-->/gm

    console.log(str.match(re))   // '<!-- My -- comment \n test -->', '<!----> 



    // 10. 补全如下正则表达式
    var re = /<\w+.*?>/g

    var str = '<> <a href="/"> <input type="radio" checked> <b>'
    str.match(re) // '<a href="/">', '<input type="radio" checked>', '<b>'    
    

</script>
</body>
</html>