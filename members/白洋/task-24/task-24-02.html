<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>loading</title>
</head>
<body>
	<style>
		body{
			margin: 0px;
			padding: 0px;
		}
		.rongqi{
			margin: 0px;
			padding: 0px;
			list-style: none;
		}
		.neirong{
			border-radius: 10px;
			text-align: center;
			padding: 3px;
			margin: 4px;
			border: solid 2px #ccc;
		}
		.neirong:hover{
			background: green;
		}
		.jiazai{
			border-radius: 10px;
			text-align: center;
			width: 120px;
			border: solid 2px #ccc;
			margin: 2px auto;
			display: block;
			color: black;
			text-decoration: none;
		}
	</style>
	<div class="ct">
	<ul class="rongqi">
		<li class="neirong">第1行</li>
		<li class="neirong">第2行</li>
		<li class="neirong">第3行</li>
	</ul>
	  <a href="#" class="jiazai">加载更多</a>
	</div>
	<script>
	// 封装过得ajax函数
		function ajax(opts){
    //一.设置默认参数
    var defaults = {    
            url: '',
            type: 'GET',
              data: '',        
             async: true,
             cache: true,
       contentType: 'application/x-www-form-urlencoded',
           success: function (){},
             error: function (){}
        };    
    //二.用户参数覆盖默认参数    
    for(var key in opts){
        defaults[key] = opts[key];
    }
    //三.开始编写ajax
    //1.创建ajax对象
    var oXhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
    //2.和服务器建立联系，告诉服务器你要取什么文件
    oXhr.open(defaults.type, defaults.url, defaults.async);
    //3.发送请求
    if(defaults.type === 'GET')    
        oXhr.send();
    else{
        oXhr.setRequestHeader("Content-type", defaults.contentType);
        oXhr.send(defaults.data);
    }    
    //4.等待服务器回应
    oXhr.onreadystatechange = function (){
        if(oXhr.readyState === 4){
            if(oXhr.status === 200)
                defaults.success.call(oXhr, oXhr.responseText);
            else{
                defaults.error();
            }
        }
    };
}
// 结束
var LoadList = document.querySelector('.jiazai');
LoadList.addEventListener('click',function(shuzi){
		console.log("aaa");
		ajax({
        url: '/list',   //接口地址
        type: 'GET',               // 类型，get
        data: shuzi,
        success: function(ret){
            console.log(ret); 
                  // {status: 0}
        },
        error: function(){
           console.log('出错了')
        }
    		})

});
	</script>
</body>
</html>