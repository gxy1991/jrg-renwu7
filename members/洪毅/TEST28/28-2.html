<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>28-2</title>
    <style>
        #header {
            width: 900px;
            height: 50px;
            margin: 0 auto;
            background: red;
        }

        .ct {
            margin-top: 20px;
        }

        .nav {
            width: 900px;
            height: 30px;
            background: yellow;
            border: 1px solid black;
            margin: 0 auto;
        }

        #content {
            width: 900px;
            height: 500px;
            margin: 0 auto;
        }

        .ct:after {
            content: '';
            display: block;
            clear: both;
        }

        .aside {
            float: left;
            width: 200px;
            background: pink;
            height: 500px;
        }

        .main {
            float: right;
            margin-left: 20px;
            width: 680px;
            height: 500px;
            background: blue;
            color: #fff;
        }

        .aside2 {
            background: yellow;
        }

        .aside3 {
            background: red;
        }
    </style>
</head>

<body>

    <div id="header">header</div>
    <div class="lyout">
    <div class="ct">
        <div class="nav nav1">nav1</div>
        <div id="content">
            <div class="aside">aside1</div>
            <div class="main">main1</div>
        </div>
    </div>
    <div class="ct">
        <div class="nav nav2">nav2</div>
        <div id="content">
            <div class="aside aside2">aside2</div>
            <div class="main">main2</div>
        </div>
    </div>
    <div class="ct">
        <div class="nav nav3">nav3</div>
        <div id="content">
            <div class="aside aside3">aside3</div>
            <div class="main">main3</div>
        </div>
    </div>
    <div class="ct">
        <div class="nav">nav4</div>
        <div id="content">
            <div class="aside aside4">aside4</div>
            <div class="main">main4</div>
        </div>
    </div>
  </div>
      <script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.js"></script>
    <script>
    $.fn.stick = function() {
            var $cur = $(this),
                curH = $cur.height(),
                curW = $cur.width(),
                offsetTop = $cur.offset().top,
                offsetLeft = $cur.offset().left;

            var $div = $cur.clone()
                .css('opacity',0)
        .insertBefore($cur) //插到当前元素的前面
        .hide();
    $(window).on('scroll', function() {
        var scrollTop = $(this).scrollTop();
        if (scrollTop >= offsetTop) {
            if (!isFixed()) {
                setFixed();
                //onChange.call($cur);
            }
        } else {
            if (isFixed()) {
                unsetFixed();
            }
        }
    });

    function isFixed() {
        return !!$cur.attr('data-fixed');
    }

    function setFixed() {
        $cur.attr('data-fixed', true)
            .css({
                position: 'fixed',
                top: 0,
                left: offsetLeft,
                'z-index': 9999,
                width: curW,
                margin: 0

            });
        $div.show();
    }

    function unsetFixed() {
        $cur.removeAttr('data-fixed')
            .removeAttr('style');
        $div.hide();
    }
  };

          $('.nav1').stick();
          $('.nav2').stick();
          $('.nav3').stick();

    </script>
</body>

</html>
